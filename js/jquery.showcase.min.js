(function(a){a.fn.extend({productShowcase:function(n){var d={containerClass:"wrapContainer",initShow:false,initZoomEffect:true,showCloseButton:true,closeButtonClass:"right",showArrow:true,arrowAutoHiden:true};if(n){a.extend(d,n)}var g=this;g.wrap('<div class="'+d.containerClass+'"/>');var i=g.parent();i.hide();var m=a(".bigImages",g);var b=a(".thumbnails",g);var c=a(".bigImages ul li",g).size();var k=a(".thumbnails ul li",g).size();var h=Math.max(c,k);var l=[];var j=[];var f=-1;var e=[];g.popover=function(){if(e[f]){l[f].find("div").append(e[f])}if(Modernizr.csstransitions){g.show();i.show();i.removeClass("pulseHide pulse animated2").addClass("animated pulse")}else{g.fadeIn("slow");i.fadeIn("slow")}};return this.each(function(){m.find("ul li").each(function(w){l[w]=a(this);if(w!=0){a(this).hide()}a(this).css("opacity",0)});b.find("ul li").each(function(w){j[w]=a(this);a(this).css("cursor","pointer");a(this).attr("rel",w);a(this).bind("click",function(y){if(a(this).hasClass("active")){return false}var x=a(this).attr("rel");p(x)})});var v,q;if(d.showCloseButton){q=a('<div class="'+d.closeButtonClass+' closeButton"></div>');i.append(q);q.css("cursor","pointer");q.bind("click",function(w){if(Modernizr.csstransitions){i.removeClass("pulseHide pulse animated").addClass("pulseHide animated2")}else{i.fadeOut("slow")}setTimeout(function(){i.hide()},500);if(e[f]){l[f].find("iframe").remove()}})}if(d.showArrow){v=a('<div class="arrowButton"><div class="prevArrow"></div><div class="nextArrow"></div></div>');g.append(v);var s=a(".nextArrow",v).bind("click",function(w){u()});var t=a(".prevArrow",v).bind("click",function(w){o()})}function u(){var w=f;w++;if(w>h-1){w=0}p(w)}function o(){var w=f;w--;if(w<0){w=h-1}p(w)}function p(x){var w=f;l[x].show().animate({opacity:1},250);if(e[x]){l[x].find("div").append(e[x])}else{if(l[x].find("iframe")){e[x]=l[x].find("iframe")}}if(l[w]){l[w].animate({opacity:0},400,function(){l[w].hide();if(l[w].find("iframe")){e[w]=l[w].find("iframe");l[w].find("iframe").remove()}})}if(j[w]){j[w].removeClass("active")}j[x].addClass("active");f=x}p(0);function r(){if(Modernizr.csstransitions){if(d.initZoomEffect){g.show();i.show();i.removeClass("pulseHide pulse animated2").addClass("animated pulse")}else{g.fadeIn("slow");i.fadeIn("slow")}}else{g.fadeIn("slow");i.fadeIn("slow")}}if(d.initShow){r()}i.mouseover(function(w){if(v){v.fadeIn()}});i.mouseleave(function(w){if(v){v.fadeOut()}});g.touchwipe({wipeLeft:u,wipeRight:o,preventDefaultEvents:true})})}})})(jQuery);